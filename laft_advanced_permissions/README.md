# Laft Advanced Permissions System

## Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ù„Ø´Ø±ÙƒØ© Ù„ÙØª

Ù†Ø¸Ø§Ù… Ø§Ø­ØªØ±Ø§ÙÙŠ ÙˆÙ…Ø¨Ø³Ø· Ù„Ø¥Ø¯Ø§Ø±Ø© ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Odoo.

---

## âœ¨ Ø§Ù„Ù…Ø²Ø§ÙŠØ§ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### ğŸ¯ **ÙˆØ§Ø¬Ù‡Ø© Ù…Ø¨Ø³Ø·Ø©**
- Checkboxes Ø³Ù‡Ù„Ø© Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Groups Ù…Ø¹Ù‚Ø¯Ø©
- ØªØ·Ø¨ÙŠÙ‚ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
- Ù‚ÙˆØ§Ù„Ø¨ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø£Ø¯ÙˆØ§Ø± Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©

### ğŸ—ï¸ **Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹**
- **User**: Ù…Ø´Ø§Ø±ÙŠØ¹Ù‡ ÙÙ‚Ø· (Own Projects Only)
- **Manager**: Ø¥Ø¯Ø§Ø±Ø© ÙƒØ§Ù…Ù„Ø© Ù„Ù…Ø´Ø§Ø±ÙŠØ¹Ù‡
- **Finance**: Manager + Bills/POs
- **General Manager**: Ø±Ø¤ÙŠØ© **ÙƒÙ„** Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹

### ğŸ’¼ **ØªØ·ÙˆÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø§Ù„**
- **User**: ÙØ±ØµÙ‡ ÙÙ‚Ø·
- **Manager**: ÙØ±Øµ Ø§Ù„ÙØ±ÙŠÙ‚
- **Executive**: ÙƒÙ„ Ø§Ù„ÙØ±Øµ

### ğŸ“Š **Dashboard**
- Ù†Ø¸Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
- Ù…Ù† Ù‡Ùˆ Admin/ManagerØŸ
- Quick Links Ù„Ù„ÙØ¦Ø§Øª

---

## ğŸ“‹ **ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…**

### 1ï¸âƒ£ **Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯**

```
Settings â†’ Users & Companies â†’ Permission Management â†’ Users
```

1. Ø§Ø¶ØºØ· **Create**
2. Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Name, Email, Login)
3. Ø§Ø°Ù‡Ø¨ Ù„ØªØ§Ø¨ **ğŸ“‹ Permissions**
4. Ø§Ø®ØªØ±:
   - **Projects Access**: Manager - Own Projects
   - â˜‘ Can Create Projects
   - â˜‘ Can View Vendor Bills
5. Ø§Ø¶ØºØ· **Save**

âœ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©!

---

### 2ï¸âƒ£ **Ø§Ø³ØªØ®Ø¯Ø§Ù… Role Templates**

```
Settings â†’ Permission Management â†’ Role Templates
```

Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©:
- ğŸ‘¤ Project User
- ğŸ‘” Project Manager
- ğŸ’° Project Manager + Finance
- ğŸ‘‘ General Project Manager
- ğŸ’¼ BD User
- ğŸ’¼ BD Manager
- ğŸ‘‘ BD Executive
- ğŸ¯ Project & BD Manager (Combined)

---

### 3ï¸âƒ£ **Ø¹Ø±Ø¶ Ù…Ù† Ù„Ø¯ÙŠÙ‡ ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø¹ÙŠÙ†Ø©**

```
Settings â†’ Permission Management â†’ Quick Links
```

- ğŸ‘‘ **Administrators**: ÙƒÙ„ Ø§Ù„Ù€ Admins
- ğŸ—ï¸ **Project Managers**: ÙƒÙ„ Ù…Ø¯ÙŠØ±ÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹
- ğŸ’¼ **BD Team**: ÙƒÙ„ ÙØ±ÙŠÙ‚ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø§Ù„

---

## ğŸ”’ **Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø¨Ø§Ù„ØªÙØµÙŠÙ„**

### **Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹:**

| Ø§Ù„Ù…Ø³ØªÙˆÙ‰ | Ù…Ø§Ø°Ø§ ÙŠØ±Ù‰ØŸ | Ù…Ø§Ø°Ø§ ÙŠØ³ØªØ·ÙŠØ¹ØŸ |
|---------|-----------|--------------|
| User | Ù…Ø´Ø§Ø±ÙŠØ¹Ù‡ ÙÙ‚Ø· | Ø¹Ø±Ø¶ + Ù…Ù‡Ø§Ù…Ù‡ |
| Manager | Ù…Ø´Ø§Ø±ÙŠØ¹Ù‡ ÙÙ‚Ø· | Ø¥Ù†Ø´Ø§Ø¡ + Ø¥Ø¯Ø§Ø±Ø© ÙƒØ§Ù…Ù„Ø© |
| Finance | Ù…Ø´Ø§Ø±ÙŠØ¹Ù‡ ÙÙ‚Ø· | Manager + Bills/POs |
| General | **ÙƒÙ„** Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ | ÙƒÙ„ Ø´ÙŠØ¡ |

### **Record Rules:**

```python
# Manager - Own Projects Only:
[('user_id', '=', user.id)]

# General Manager - See All:
[(1, '=', 1)]
```

### **Vendor Bills:**

```python
# Project Manager ÙŠØ±Ù‰ ÙÙ‚Ø·:
[
    ('move_type', '=', 'in_invoice'),
    ('project_id.user_id', '=', user.id)
]

# Customer Invoices Ù…Ù…Ù†ÙˆØ¹Ø©:
[('move_type', '!=', 'out_invoice')]
```

---

## ğŸ›ï¸ **Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©**

### **Override: See All Projects**

checkbox Ù…Ù†ÙØµÙ„ ÙŠØ³Ù…Ø­ Ø¨Ø±Ø¤ÙŠØ© **ÙƒÙ„** Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¨ØºØ¶ Ø§Ù„Ù†Ø¸Ø± Ø¹Ù† Ø§Ù„Ù…Ø³ØªÙˆÙ‰:

```
â˜‘ Override: See All Projects
```

### **Finance Access Levels:**

- **None**: Ù„Ø§ ÙˆØµÙˆÙ„
- **Project-Related Only**: ÙÙ‚Ø· Bills/POs Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù…Ø´Ø§Ø±ÙŠØ¹Ù‡
- **Invoicing**: ÙˆØµÙˆÙ„ ÙƒØ§Ù…Ù„ Ù„Ù„ÙÙˆØ§ØªÙŠØ±
- **Accounting**: ÙˆØµÙˆÙ„ ÙƒØ§Ù…Ù„ Ù„Ù„Ù…Ø­Ø§Ø³Ø¨Ø©

---

## ğŸ”§ **Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ†**

### **Structure:**

```
laft_advanced_permissions/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ res_users.py           # User extensions
â”‚   â””â”€â”€ laft_permission_role.py # Role templates
â”œâ”€â”€ security/
â”‚   â”œâ”€â”€ laft_security_groups.xml
â”‚   â”œâ”€â”€ project_security_rules.xml
â”‚   â”œâ”€â”€ bd_security_rules.xml
â”‚   â””â”€â”€ finance_security_rules.xml
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ res_users_permission_views.xml
â”‚   â”œâ”€â”€ permission_dashboard_views.xml
â”‚   â””â”€â”€ laft_permission_role_views.xml
â””â”€â”€ data/
    â””â”€â”€ default_roles_data.xml
```

### **Key Models:**

**res.users:**
- `laft_project_access`: Selection
- `laft_bd_access`: Selection  
- `laft_finance_access`: Selection
- Auto-applies groups on change

**laft.permission.role:**
- Pre-configured role templates
- Can be applied to multiple users

### **Groups Created:**

```xml
<!-- Project -->
group_project_user_own
group_project_manager_own
group_project_manager_finance
group_project_general_manager

<!-- BD -->
group_bd_user_own
group_bd_manager_team
group_bd_executive

<!-- Permission -->
group_permission_manager
```

---

## ğŸ“ **Ø§Ù„Ø¯Ø¹Ù…**

Ù„Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø£Ùˆ Ù…Ø´Ø§ÙƒÙ„ØŒ ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„ØªÙ‚Ù†ÙŠ.

---

**Developed with â¤ï¸ by Laft Company**

