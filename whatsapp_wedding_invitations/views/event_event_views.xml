<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_event_form_inherit_whatsapp" model="ir.ui.view">
        <field name="name">event.event.form.inherit.whatsapp</field>
        <field name="model">event.event</field>
        <field name="inherit_id" ref="event.view_event_form"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='event_communication']/field[@name='event_mail_ids']" position="after">
                <group string="WhatsApp Invitations" name="whatsapp_invites_block">
                    <group>
                        <field name="whatsapp_message_template"
                               placeholder="Use {name}, {event_name}, {date}, {venue}, {time} placeholders."
                               widget="text"/>
                    </group>
                    <group>
                        <field name="whatsapp_registration_count" widget="statinfo"/>
                        <field name="whatsapp_invitation_sent_count" widget="statinfo"/>
                        <field name="whatsapp_invitation_failed_count" widget="statinfo"/>
                    </group>
                    <button name="action_send_whatsapp_invitations"
                            type="object"
                            string="Send WhatsApp Invitations"
                            class="btn-primary"
                            icon="fa-whatsapp"
                            invisible="whatsapp_registration_count == 0"/>
                </group>
            </xpath>
            <xpath expr="//header" position="inside">
                <button name="open_related_calendar_event"
                        type="object"
                        string="Calender Event"
                        class="btn-primary"/>
            </xpath>
        </field>
    </record>
</odoo>


